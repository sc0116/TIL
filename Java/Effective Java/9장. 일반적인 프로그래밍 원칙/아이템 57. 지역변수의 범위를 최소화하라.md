# 아이템 57. 지역변수의 범위를 최소화하라

---

C와 같이 역사가 깊은 프로그래밍 언어 중에는 지역변수를 코드 블록의 첫머리에 선언하는 경우가 많고, 이 방식을 습관처럼 따르는 프로그래머도 있다.  
하지만 자바에서는 문장을 선언할 수 있는 곳이면 어디서든 변수를 선언할 수 있다.

## 지역변수의 범위를 최소화하는 방법

---

### 1. 가장 처음 쓰일 때 선언하기

변수를 사용하려면 멀었는데, 미리 선언부터 해두면 코드가 어수선해져 가독성이 떨어진다.
- 변수를 실제로 사용하는 시점엔 타입과 초깃값이 기억나지 않을 수도 있다.

지역변수를 생각 없이 선언하다 보면 변수가 쓰이는 범위보다 너무 앞서 선언하거나, 다 쓴 뒤에도 여전히 살아 있게 되기 쉽다.
- 의도한 범위 앞 혹은 뒤에서 실수로 그 변수를 사용하면 끔찍한 결과로 이어질 수 있다.

### 2. 선언과 동시에 초기화하기

초기화에 필요한 정보가 충분하지 않다면 충분해질 때까지 선언을 미뤄야 한다.  

하지만 try-catch 문은 이 규칙에서 예외다.
- 변수를 초기화하는 표현식에서 검사 예외를 던질 가능성이 있다면 try 블록 안에서 초기화해야 한다.
- 그렇지 않으면 예외가 블록을 넘어 메서드에까지 전파된다.

반복문은 독특한 방식으로 변수 범위를 최소화해준다.
- 반복문에서는 반복 변수의 범위가 반복문의 몸체, 그리고 for 키워드와 몸체 사이의 괄호 안으로 제한된다.
- 따라서 반복 변수의 값을 반복문이 종료된 뒤에도 써야하는 상황이 아니라면 while 문보다는 for 문을 쓰는 편이 낫다.

### 3. 메서드를 작게 유지하고 한 가지 기능에 집중하기

한 메서드에서 여러 가지 기능을 처리한다면 그중 한 기능과만 관련된 지역변수라도 다른 기능을 수행하는 코드에서 접근하는 실수를 범할 수 있다.

## 핵심 정리

---

- 지역변수의 유효 범위를 최소로 줄이면 코드 가독성과 유지보수성이 높아지고 오류 가능성은 낮아진다.
